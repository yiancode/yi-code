# Sprint Status File
# Generated by BMM sprint-planning workflow
# Project: yi-code (余额充值功能)

# generated: 2026-01-24 22:56
# updated: 2026-01-25 (重新划分 Sprint，解决配置依赖问题)
# project: yi-code
# project_key: yi-code-recharge
# tracking_system: file-system
# story_location: "_bmad-output/implementation-artifacts"

# STATUS DEFINITIONS:
# ==================
# Sprint Status:
#   - backlog: Sprint not yet started
#   - in-progress: Sprint actively being worked on
#   - done: All stories in sprint completed
#
# Story Status:
#   - backlog: Story only exists in epic file
#   - ready-for-dev: Story file created, ready for development
#   - in-progress: Developer actively working on implementation
#   - review: Implementation complete, ready for review
#   - done: Story completed
#
# WORKFLOW NOTES:
# ===============
# - 按 Sprint 顺序开发，Sprint 1 完成后再开始 Sprint 2
# - Sprint 1-2 为 MVP 核心，Sprint 3+ 为增强功能
# - Dev moves story to 'review', then Dev runs code-review

development_status:
  # Sprint 1: 配置基础 + 下单流程 (7 stories)
  # 目标: 用户可进入充值页面、选择金额、创建订单
  sprint-1: in-progress
  1-1-load-wechat-pay-config: ready-for-dev      # Epic 1
  1-6-recharge-menu-visibility: ready-for-dev    # Epic 1
  2-1-recharge-page-balance-display: ready-for-dev  # Epic 2
  2-2-amount-selector: ready-for-dev             # Epic 2
  2-3-amount-range-validation: ready-for-dev     # Epic 2
  2-4-payment-method-order-submit: ready-for-dev # Epic 2
  2-5-recharge-order-creation: ready-for-dev     # Epic 2
  sprint-1-retrospective: optional

  # Sprint 2: 支付集成 + 结果页面 (11 stories)
  # 目标: 完整支付流程闭环（PC端扫码支付）
  sprint-2: backlog
  2-6-wechat-pay-order-creation: ready-for-dev   # Epic 2
  2-7-native-pay-qrcode: ready-for-dev           # Epic 2
  3-1-receive-wechat-callback: ready-for-dev     # Epic 3
  3-2-callback-signature-decrypt: ready-for-dev  # Epic 3
  3-3-order-status-balance-update: ready-for-dev # Epic 3
  3-4-balance-change-log: ready-for-dev          # Epic 3
  4-1-query-single-order: ready-for-dev          # Epic 4
  4-6-frontend-order-polling: ready-for-dev      # Epic 4
  4-7-paying-page-countdown: ready-for-dev       # Epic 4
  4-8-recharge-success-page: ready-for-dev       # Epic 4
  4-9-recharge-failed-page: ready-for-dev        # Epic 4
  # 可选: 2-8-jsapi-pay-invoke (如果主要用户在微信内)
  2-8-jsapi-pay-invoke: ready-for-dev            # Epic 2 (可选)
  sprint-2-retrospective: optional

  # Sprint 3: 订单管理 + 基础防护 (5 stories)
  # 目标: 防止订单悬挂和基础滥用
  sprint-3: backlog
  4-2-recharge-records-list: ready-for-dev       # Epic 4
  4-3-cancel-unpaid-order: ready-for-dev         # Epic 4
  4-4-order-expire-auto-process: ready-for-dev   # Epic 4
  4-5-wechat-close-order-api: ready-for-dev      # Epic 4
  6-1-user-minute-rate-limit: ready-for-dev      # Epic 6
  sprint-3-retrospective: optional

  # Sprint 4: 补偿机制 + 完整限流 (6 stories)
  # 目标: 处理边缘情况，完善风控
  sprint-4: backlog
  5-1-manual-sync-order-button: ready-for-dev    # Epic 5
  5-2-query-wechat-order-status: ready-for-dev   # Epic 5
  5-3-compensation-balance-logic: ready-for-dev  # Epic 5
  5-4-scheduled-order-compensation: ready-for-dev # Epic 5
  6-2-user-daily-rate-limit: ready-for-dev       # Epic 6
  6-3-ip-rate-limit-captcha: ready-for-dev       # Epic 6
  sprint-4-retrospective: optional

  # Sprint 5: 管理端配置 (5 stories, 可选)
  # 目标: 运营可动态调整配置
  sprint-5: backlog
  1-2-admin-payment-status-display: ready-for-dev # Epic 1
  1-3-admin-recharge-config: ready-for-dev       # Epic 1
  1-4-config-realtime-effect: ready-for-dev      # Epic 1
  1-5-config-priority: ready-for-dev             # Epic 1
  3-5-recharge-success-notification: ready-for-dev # Epic 3
  sprint-5-retrospective: optional

  # Sprint 6: 退款管理 (4 stories, 预留)
  # 目标: 支持退款场景
  sprint-6: backlog
  7-1-admin-refund-entry: ready-for-dev          # Epic 7
  7-2-wechat-refund-api: ready-for-dev           # Epic 7
  7-3-deduct-user-balance: ready-for-dev         # Epic 7
  7-4-refund-status-log: ready-for-dev           # Epic 7
  sprint-6-retrospective: optional
